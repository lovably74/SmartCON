# SmartCON Lite 개발 절차서

**문서 버전:** 1.0  
**작성일:** 2025년 12월 13일  
**작성자:** 개발 PM (Gemini)

---

## 목차

1. [개발 단계 개요](#1-개발-단계-개요)
2. [Phase 0: 프로토타입 개발](#2-phase-0-프로토타입-개발)
3. [Phase 1: 인증 및 사용자 관리](#3-phase-1-인증-및-사용자-관리)
4. [Phase 2: 출역 체크 및 대시보드](#4-phase-2-출역-체크-및-대시보드)
5. [Phase 3: 작업일보 및 마이페이지](#5-phase-3-작업일보-및-마이페이지)
6. [Phase 4: 테스트 및 최적화](#6-phase-4-테스트-및-최적화)
7. [Phase 5: 배포 및 안정화](#7-phase-5-배포-및-안정화)

---

## 1. 개발 단계 개요

### 1.1. 개발 순서

```
Phase 0: 프로토타입 개발 (2주)
    ↓
Phase 1: 인증 및 사용자 관리 (4주)
    ↓
Phase 2: 출역 체크 및 대시보드 (4주)
    ↓
Phase 3: 작업일보 및 마이페이지 (3주)
    ↓
Phase 4: 테스트 및 최적화 (2주)
    ↓
Phase 5: 배포 및 안정화 (1주)
```

**총 예상 기간**: 16주 (약 4개월)

### 1.2. 개발 원칙

1. **프로토타입 우선**: 실제 개발 전 프로토타입으로 화면 검증
2. **테스트 주도**: 모든 기능 개발 후 테스트 코드 작성 필수
3. **반응형 우선**: PC/모바일 웹앱을 반응형으로 통합 개발
4. **코드 재사용**: 웹앱 코드를 모바일앱에서 최대한 재사용

---

## 2. Phase 0: 프로토타입 개발

### 2.1. 목적

- 실제 데이터 없이 화면 위주로 구현
- 모든 기능을 링크/클릭으로 동작하도록 구현
- 실제 데이터가 있는 것처럼 보이게 목업 데이터 사용
- 사용자 피드백 수집 및 요구사항 검증

### 2.2. 작업 내용

#### 2.2.1. 프로토타입 환경 설정

```bash
cd prototype
npm create vite@latest . -- --template vue-ts
npm install vue-router pinia
npm install vuetify @mdi/font
```

#### 2.2.2. 목업 데이터 생성

**파일**: `prototype/src/mock-data/`

- 사용자 데이터 (4가지 역할)
- 현장 데이터
- 출역 기록 데이터
- 작업일보 데이터
- 이의 제기 데이터

#### 2.2.3. 화면 구현

**구현 순서**:

1. **레이아웃**
   - PC: 좌측 LNB (Left Navigation Bar)
   - 모바일: 하단 Bottom Tab + Drawer

2. **인증 화면**
   - 로그인 (카카오/네이버 OAuth 버튼)
   - 회원가입
   - PASS 인증 화면

3. **대시보드**
   - 본사 관리자 대시보드
   - 현장 관리자 대시보드
   - 팀장 대시보드
   - 노무자 대시보드

4. **안면인식**
   - 안면 등록 화면 (5단계)
   - 출역 체크 화면

5. **출역 관리**
   - 출역 현황 리스트
   - 예외 승인 화면

6. **작업일보**
   - 작업일보 작성 화면
   - 작업일보 목록

7. **마이페이지**
   - 월간 출역 현황 (달력)
   - 이의 제기 화면

#### 2.2.4. 라우팅 설정

- 모든 화면을 단순 링크로 연결
- 실제 API 호출 없이 화면 전환만 구현

### 2.3. 완료 기준

- ✅ 모든 화면 구현 완료
- ✅ 반응형 디자인 적용 (PC/모바일)
- ✅ 목업 데이터로 실제처럼 표시
- ✅ 모든 기능 링크/클릭으로 동작
- ✅ 사용자 피드백 수집 및 반영

### 2.4. 산출물

- 프로토타입 웹앱
- 화면 캡처 및 시연 영상
- 사용자 피드백 문서

---

## 3. Phase 1: 인증 및 사용자 관리

### 3.1. 목적

- 소셜 로그인 (카카오/네이버) 구현
- PASS 인증 연동
- 사용자 관리 기능 구현
- 안면 등록 기능 구현

### 3.2. 작업 내용

#### 3.2.1. 백엔드 개발

**작업 순서**:

1. **프로젝트 초기 설정**
   ```bash
   cd backend
   # Spring Boot 프로젝트 생성
   # 의존성 추가: Spring Security, JWT, OAuth2, JPA, MSSQL
   ```

2. **데이터베이스 설정**
   - MSSQL 연결 설정
   - JPA 엔티티 생성 (Users, Social_Login, Pass_Verification)
   - Repository 생성

3. **인증 API 개발**
   - `/api/auth/login` (소셜 로그인)
   - `/api/auth/callback/{provider}` (OAuth 콜백)
   - `/api/auth/pass-verify` (PASS 인증)
   - `/api/auth/refresh` (토큰 갱신)
   - `/api/auth/logout` (로그아웃)

4. **사용자 관리 API**
   - `/api/users/me` (내 정보 조회)
   - `/api/users/{id}` (사용자 조회)
   - `/api/users` (사용자 목록)

5. **안면 등록 API**
   - `/api/face/register` (안면 등록)
   - `/api/face/check` (안면 인식 체크)

#### 3.2.2. 프론트엔드 개발

**작업 순서**:

1. **프로젝트 초기 설정**
   ```bash
   cd frontend/web
   npm create vite@latest . -- --template vue-ts
   npm install vue-router pinia
   npm install vuetify @mdi/font
   npm install axios
   ```

2. **인증 화면 구현**
   - 로그인 페이지
   - 회원가입 페이지
   - PASS 인증 페이지

3. **상태 관리 (Pinia)**
   - `auth.store.ts`: 인증 상태 관리
   - `user.store.ts`: 사용자 정보 관리

4. **API 서비스**
   - `api.service.ts`: HTTP 클라이언트 설정
   - `auth.service.ts`: 인증 API 호출
   - `user.service.ts`: 사용자 API 호출

5. **안면 등록 화면**
   - 5단계 프로세스 구현
   - 카메라 접근 및 촬영
   - 이미지 업로드

6. **라우터 가드**
   - 인증 필요 페이지 보호
   - 역할별 접근 제어

#### 3.2.3. 테스트 코드 작성

**백엔드 테스트**:
- `AuthControllerTest`: 인증 API 테스트
- `UserServiceTest`: 사용자 서비스 단위 테스트
- `FaceServiceTest`: 안면인식 서비스 테스트

**프론트엔드 테스트**:
- `LoginView.spec.ts`: 로그인 화면 테스트
- `auth.store.spec.ts`: 인증 스토어 테스트
- `FaceRegister.spec.ts`: 안면 등록 컴포넌트 테스트

### 3.3. 완료 기준

- ✅ 소셜 로그인 (카카오/네이버) 동작
- ✅ PASS 인증 연동 완료
- ✅ JWT 토큰 기반 인증 구현
- ✅ 안면 등록 기능 구현
- ✅ 모든 기능 테스트 코드 작성 및 통과

---

## 4. Phase 2: 출역 체크 및 대시보드

### 4.1. 목적

- 안면인식을 통한 출역 체크 기능
- 실시간 대시보드 구현
- 예외 처리 (수동 승인) 기능

### 4.2. 작업 내용

#### 4.2.1. 백엔드 개발

1. **출역 관리 API**
   - `/api/attendance/check-in` (출역 체크)
   - `/api/attendance/list` (출역 목록)
   - `/api/attendance/{id}` (출역 상세)
   - `/api/attendance/manual-approve` (수동 승인)

2. **대시보드 API**
   - `/api/dashboard/admin` (본사 관리자)
   - `/api/dashboard/site` (현장 관리자)
   - `/api/dashboard/team` (팀장)
   - `/api/dashboard/worker` (노무자)

3. **안면인식 API 연동**
   - 신한홀딩스 Face API 연동
   - 비동기 처리 및 재시도 로직

4. **실시간 알림**
   - WebSocket 또는 Server-Sent Events
   - 푸시 알림 (예외 승인 요청)

#### 4.2.2. 프론트엔드 개발

1. **출역 체크 화면**
   - 안면인식 촬영
   - 로딩 인디케이터
   - 결과 표시

2. **대시보드 화면**
   - 역할별 대시보드
   - 실시간 데이터 갱신
   - 차트 및 그래프

3. **출역 관리 화면**
   - PC: 테이블 형태
   - 모바일: 카드 형태
   - 필터 및 정렬

4. **예외 승인 화면**
   - PC: 모달 팝업
   - 모바일: 전체 화면

#### 4.2.3. 테스트 코드 작성

- 출역 체크 API 테스트
- 대시보드 API 테스트
- 안면인식 연동 테스트
- 실시간 알림 테스트

### 4.3. 완료 기준

- ✅ 출역 체크 기능 동작
- ✅ 실시간 대시보드 구현
- ✅ 예외 승인 기능 구현
- ✅ 모든 기능 테스트 코드 작성 및 통과

---

## 5. Phase 3: 작업일보 및 마이페이지

### 5.1. 목적

- 작업일보 작성 및 관리
- 마이페이지 (출역 현황, 이의 제기)

### 5.2. 작업 내용

#### 5.2.1. 백엔드 개발

1. **작업일보 API**
   - `/api/reports` (작업일보 목록)
   - `/api/reports` (작업일보 작성)
   - `/api/reports/{id}` (작업일보 상세/수정/삭제)
   - `/api/reports/approve` (작업일보 승인)

2. **마이페이지 API**
   - `/api/mypage/attendance` (출역 현황)
   - `/api/mypage/dispute` (이의 제기 목록)
   - `/api/mypage/dispute` (이의 제기 신청)
   - `/api/mypage/dispute/{id}/approve` (이의 제기 승인/반려)

#### 5.2.2. 프론트엔드 개발

1. **작업일보 화면**
   - 작업일보 작성 (사진 업로드)
   - 작업일보 목록
   - 작업일보 상세/수정

2. **마이페이지 화면**
   - 월간 출역 현황 (달력)
   - 이의 제기 화면
   - 안면 정보 관리

#### 5.2.3. 테스트 코드 작성

- 작업일보 API 테스트
- 마이페이지 API 테스트
- 이미지 업로드 테스트

### 5.3. 완료 기준

- ✅ 작업일보 기능 구현
- ✅ 마이페이지 기능 구현
- ✅ 모든 기능 테스트 코드 작성 및 통과

---

## 6. Phase 4: 테스트 및 최적화

### 6.1. 목적

- 전체 시스템 통합 테스트
- 성능 최적화
- 보안 점검

### 6.2. 작업 내용

#### 6.2.1. 통합 테스트

1. **E2E 테스트**
   - 주요 사용자 시나리오 테스트
   - Cypress 또는 Playwright 사용

2. **API 통합 테스트**
   - 전체 API 엔드포인트 테스트
   - 에러 케이스 테스트

3. **크로스 브라우저 테스트**
   - Chrome, Firefox, Safari, Edge
   - 모바일 브라우저 (iOS Safari, Chrome)

#### 6.2.2. 성능 최적화

1. **프론트엔드**
   - 번들 크기 최적화
   - 이미지 최적화 (WebP, Lazy Loading)
   - 코드 스플리팅

2. **백엔드**
   - 쿼리 최적화
   - 캐싱 전략
   - API 응답 시간 개선

#### 6.2.3. 보안 점검

1. **인증/인가**
   - JWT 토큰 보안
   - 권한 검증

2. **데이터 보안**
   - 민감 정보 암호화
   - SQL Injection 방지
   - XSS 방지

### 6.3. 완료 기준

- ✅ 모든 E2E 테스트 통과
- ✅ 성능 목표 달성 (API 500ms 이내)
- ✅ 보안 점검 완료

---

## 7. Phase 5: 배포 및 안정화

### 7.1. 목적

- 프로덕션 환경 배포
- 모니터링 설정
- 안정화 작업

### 7.2. 작업 내용

#### 7.2.1. 배포 준비

1. **환경 설정**
   - 프로덕션 환경 변수 설정
   - 데이터베이스 마이그레이션
   - SSL 인증서 설정

2. **빌드**
   - 프론트엔드 빌드 (웹앱)
   - 백엔드 빌드 (JAR)
   - 모바일앱 빌드 (APK/IPA)

#### 7.2.2. 배포

1. **웹앱 배포**
   - 정적 파일 서버 배포 (Nginx, S3 등)

2. **백엔드 배포**
   - 애플리케이션 서버 배포 (Tomcat, Docker 등)

3. **모바일앱 배포**
   - Google Play Store 배포
   - App Store 배포

#### 7.2.3. 모니터링

1. **로그 수집**
   - 애플리케이션 로그
   - 에러 로그

2. **성능 모니터링**
   - API 응답 시간
   - 서버 리소스 사용량

3. **에러 추적**
   - 에러 발생 알림
   - 에러 분석

### 7.3. 완료 기준

- ✅ 모든 플랫폼 배포 완료
- ✅ 모니터링 시스템 구축
- ✅ 안정화 기간 운영

---

## 8. 개발 규칙

### 8.1. 코드 작성 규칙

1. **네이밍 컨벤션**
   - 변수/함수: camelCase
   - 클래스: PascalCase
   - 상수: UPPER_SNAKE_CASE

2. **주석 작성**
   - 복잡한 로직은 주석 필수
   - 함수/클래스는 JSDoc 주석

3. **에러 처리**
   - 모든 API 호출은 try-catch
   - 사용자 친화적인 에러 메시지

### 8.2. Git 작업 규칙

1. **브랜치 전략**
   - `main`: 프로덕션
   - `develop`: 개발
   - `feature/*`: 기능 개발
   - `hotfix/*`: 긴급 수정

2. **커밋 메시지**
   - 형식: `[타입] 간단한 설명`
   - 타입: feat, fix, docs, style, refactor, test, chore

3. **코드 리뷰**
   - 모든 PR은 리뷰 필수
   - 최소 1명 이상 승인 필요

### 8.3. 테스트 규칙

1. **테스트 커버리지**
   - 백엔드: 최소 80%
   - 프론트엔드: 최소 70%

2. **테스트 작성 시점**
   - 기능 개발 완료 후 즉시 작성
   - PR 전 모든 테스트 통과 필수

---

## 9. 일정 관리

### 9.1. 주간 회의

- 매주 월요일: 주간 계획 수립
- 매주 금요일: 주간 진행 상황 점검

### 9.2. 일일 스탠드업

- 매일 오전 10시: 15분 일일 스탠드업
- 진행 상황, 블로커, 오늘 할 일 공유

### 9.3. 마일스톤

- Phase 0 완료: 프로토타입 검토
- Phase 1 완료: 인증 기능 검토
- Phase 2 완료: 출역 기능 검토
- Phase 3 완료: 전체 기능 검토
- Phase 4 완료: 테스트 완료
- Phase 5 완료: 배포 완료

---

**문서 끝**

