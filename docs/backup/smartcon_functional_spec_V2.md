# 스마트콘 라이트 (SmartCON Lite) 기능 정의서 V2

## 1. 개요
본 문서는 '스마트콘 라이트 버전 요구사항 V2'를 기반으로 작성된 기능 정의서입니다. 본 서비스는 건설 현장의 인력 및 노무 관리를 위한 SaaS 플랫폼으로, 본사 관리자, 현장 관리자, 노무 팀장, 노무자 등 다양한 이해관계자에게 최적화된 기능을 제공합니다. 또한, 구독 기반의 SaaS 운영을 위한 관리 플랫폼 기능을 포함합니다.

## 2. 사용자 역할 및 인증
서비스는 다음과 같은 사용자 역할을 정의하며, 역할에 따라 인증 방식이 구분됩니다.

| 역할 | 인증 방식 | 비고 |
| :--- | :--- | :--- |
| **본사 관리자** | ID(사업자번호) / PW | 구독 신청 시 생성된 계정 사용 |
| **현장 관리자** | 소셜 로그인 / 간편 인증 | 카카오, 네이버 등 간편 로그인 지원 |
| **노무 팀장** | 소셜 로그인 / 간편 인증 | |
| **노무자** | 소셜 로그인 / 간편 인증 | |

*   **접속 정책**: 단일 도메인(예: smartcon.smartpmis.net)을 통해 접속하며, 로그인 시 소속된 현장/권한이 다수일 경우 선택 화면을 제공합니다.

## 3. 상세 기능 명세

### 3.1. 본사 관리자 (HQ Admin)
회사의 전반적인 정보와 현장을 관리하는 최고 관리자 권한입니다.

| 기능 그룹 | 상세 기능 | 주요 명세 |
| :--- | :--- | :--- |
| **회사 정보** | 기본 정보 관리 | 회사명, 주소, 대표번호, 사업자번호, 대표이사, 이메일 등 관리 |
| **현장 관리** | 현장 개설 | 현장명, 안면인식기 정보(설치여부, 고유번호), 주소, 연락처, 관리자 정보, 참여공종 등록 |
| | 현장 정보 조회 | 등록된 현장의 기본 정보 조회 |
| **사용자 관리** | 현장 관리자 등록 | 기존 관리자 선택 또는 신규 등록(이름, 주민번호, 연락처, 이메일). 신규 시 초대 링크 발송 |
| | 근로자 조회 | 노무자 기본 정보 및 투입 현장/공종 이력 조회 |
| | 노무 팀장 조회 | 노무 팀장 기본 정보 및 투입 현장/공종 이력 조회 |
| **노무 관리** | 근로계약서 조회 | 현장/날짜/이름/공종/구간별 목록 조회 및 계약서 상세 보기 (마지막 참여일 기준) |
| | 출역 현황 조회 | 현장별/날짜별 노무자 출퇴근 시간, 공수, 산정 비용 조회 |
| | 공사 일보 조회 | 현장별 날씨, 작업 내용(금일/명일), 공종별/장비별 투입 현황(전일/금일/누계) 조회 |
| **기준 정보** | 공종 관리 | 회사 표준 참여 공종 관리 |
| | 장비 관리 | 회사 보유 장비 관리 |
| | 노무 단가 관리 | 공종별 노무자 기준 단가 관리 |
| **대시보드** | 전사 현황 | 현장별 공정률, 출역 현황(예정/실제), 근로계약 체결 현황(출역인원 대비 서명 수) |

### 3.2. 현장 관리자 (Site Manager)
개별 현장의 운영을 책임지며, 실질적인 인력 투입과 작업 관리를 수행합니다.

| 기능 그룹 | 상세 기능 | 주요 명세 |
| :--- | :--- | :--- |
| **현장 설정** | 현장 정보 관리 | 안면인식기 정보, 공종, 발주처/도급업체, 출퇴근/휴게 기준 시간 등 현장 운영 규칙 설정 |
| | 공종/장비 관리 | 본사 표준 공종/장비 중 현장 사용 항목 선택 및 현장 전용 항목 추가 |
| | 작업 구간 관리 | 작업구간명, 공종, 위치, 내용 관리 |
| **팀 관리** | 노무 팀장 등록 | 기존 팀장 선택 또는 신규 등록(초대 링크 발송) |
| | 팀 배정 관리 | 팀명, 팀장, 공종, 인원, 기간, 작업구간 설정 및 요청. 팀장의 수락/거부 상태 관리 |
| **작업 관리** | 작업 일보 관리 | 기상 정보 연동(날씨/기온), 공종별 작업 내용 취합(팀장 일지 기반), 인원/장비 투입 현황 자동 집계 및 승인 |
| | 작업 일지 조회 | 팀장별 작성 일지 조회 및 명일 출역 계획 확인 (출역 금지 인원 설정 가능) |
| **노무 관리** | 출역 현황 관리 | 일별/공종별/팀별 출역 내역(시간, 공수, 단가) 조회 및 수정. 일괄 변경 기능 제공 |
| | 근로자 조회 | 현장 투입 근로자 정보 및 이력 조회 |
| | 근로계약서 관리 | 미서명 계약서 일괄 서명 요청(SMS/알림톡) 및 계약서 상세 조회 |
| **대시보드** | 현장 현황 | 실시간 출역 현황, 근로계약 미서명 현황(일괄 요청 버튼), 공종별/팀별 현황 |

### 3.3. 노무 팀장 (Team Leader)
팀원을 관리하고 현장의 작업 지시를 이행하며, 팀원의 근태와 계약을 관리합니다.

| 기능 그룹 | 상세 기능 | 주요 명세 |
| :--- | :--- | :--- |
| **팀원 관리** | 팀원 등록/초대 | 신규 팀원 초대(SMS/알림톡) 및 기존 사용자 확인 후 등록. 팀원 수락/거부 상태 관리 |
| **작업 관리** | 현장별 팀 관리 | 배정된 작업(기간, 공종, 인원) 확인 및 수락/거부. 작업에 투입할 내 팀원 선택 및 배정 |
| | 간편 작업 일보 | 당일 작업 내용 및 명일 계획 간편 작성 |
| **출역 관리** | 출역 현황 조회 | 팀원 출역 내역(시간, 공수) 확인. 1공수 미만 등 이상 발생 시 '이의 제기' 기능 활성화 |
| | 근로계약 관리 | 팀원 근로계약 서명 여부 확인 및 일괄 서명 요청 |
| **대시보드** | 팀 운영 현황 | 실시간 출역률, 안면인식 미등록 현황, 근로계약 미서명 현황 |

### 3.4. 노무자 (Worker)
자신의 근로 내역을 확인하고 필수 행정 절차를 수행합니다.

| 기능 그룹 | 상세 기능 | 주요 명세 |
| :--- | :--- | :--- |
| **내 정보** | 출역 현황 조회 | 일별/월별 출역 상세(공수, 단가, 노임, 팀장정보) 조회. 기간별 요약 정보(총 공수/노임) 제공 |
| | 이의 제기 | 출역 내역에 대한 이의 제기 기능 |
| **대시보드** | 개인 현황 | 월간 출역 캘린더, 근로계약서 확인 및 전자 서명 |

## 4. 공통 및 시스템 기능

### 4.1. 공통 기능
*   **알림함**: 수신된 모든 알림(초대, 작업 요청, 승인 등) 목록 조회
*   **내 정보**: 개인 정보(연락처, 계좌 등) 및 자격 정보 수정
*   **공지사항**: 소속 현장/회사의 공지사항 조회 및 관리자 게시 기능
*   **안면인식 연동**:
    *   등록: 현장 초대 시 사진 등록 -> 스마트콘 서버 -> 안면인식기 서버(페이스넷) 전송
    *   활성: 작업 참여 기간 도래 시 자동 전송 (매일 자정 배치)
    *   삭제: 참여 기간 종료 시 자동 삭제 처리

### 4.2. 비기능 요구사항
*   **멀티 테넌트 (Multi-tenancy)**: 데이터 격리 및 보안성을 갖춘 SaaS 아키텍처
*   **반응형 웹 (Responsive Web)**: PC, 태블릿, 모바일 등 다양한 디바이스 지원
*   **딥링크 (Deep Linking)**: 초대 메시지를 통한 앱 설치 유도 및 특정 화면 이동
*   **기술 스택**: 오픈소스 기반 DBMS 및 최신 웹 기술 트렌드 적용

## 5. 구독 신청 및 관리 플랫폼 (SaaS Admin)

### 5.1. 구독 신청 (사용자)
*   **대상**: 사업자번호를 보유한 법인/개인사업자/기관
*   **프로세스**:
    1.  사업자번호 입력 및 인증 (나이스평가정보 등 API 연동)
    2.  회원가입 (사업자번호 = ID, 비밀번호 설정)
    3.  요금제 선택 및 결제 정보 등록 (카드, CMS, 무통장)
    4.  구독 완료 및 본사 관리자 계정 생성

### 5.2. 운영 모니터링 (슈퍼 어드민)
*   **계정 관리**: 최초 슈퍼 어드민 생성 및 하위 관리자 추가 기능
*   **모니터링**:
    *   전체 가입 회사(Tenant) 현황 및 상태 관리
    *   자동 과금 및 결제 현황 모니터링
*   **정산/세무**:
    *   세금계산서 자동 발행 및 국세청(홈택스) 연동
    *   미수금 관리 및 결제 실패 대응
