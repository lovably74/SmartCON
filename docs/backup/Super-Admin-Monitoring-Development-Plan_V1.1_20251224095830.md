# 슈퍼관리자 모니터링 페이지 개발 플랜

**문서 버전:** 1.0  
**작성일:** 2025년 12월 23일  
**작성자:** Kiro AI Assistant  

---

## 1. 개발 목표

SmartCON Lite 플랫폼의 슈퍼관리자가 전체 시스템을 모니터링하고 관리할 수 있는 대시보드를 개발합니다.

### 1.1 핵심 기능
- **테넌트 관리**: 전체 고객사 현황 모니터링
- **결제 모니터링**: 구독 결제 현황 및 실패 건 관리
- **시스템 모니터링**: 서버 상태, 성능 지표, 오류 현황
- **사용량 통계**: 플랫폼 전체 사용량 분석

---

## 2. 기술 스택 및 환경

### 2.1 개발 환경
- **OS**: Windows 11
- **IDE**: VS Code (프론트엔드), IntelliJ IDEA (백엔드)
- **Database**: MariaDB 10.11 (Docker)
- **Cache**: Redis 7.x (Docker)

### 2.2 백엔드 기술 스택
- **Language**: Java 17
- **Framework**: Spring Boot 3.3.x
- **Database**: MariaDB + JPA/Hibernate
- **Security**: Spring Security + JWT
- **Build**: Maven 3.8+

### 2.3 프론트엔드 기술 스택
- **Framework**: React 18 + TypeScript
- **Build Tool**: Vite 5.0+
- **UI Library**: Shadcn/UI + Tailwind CSS
- **State Management**: Zustand + TanStack Query
- **Routing**: Wouter
- **Charts**: Recharts

---

## 3. 개발 단계별 계획

### Phase 1: 환경 설정 및 기본 구조 (1일)
1. **개발 환경 구축**
   - Docker 설치 및 MariaDB, Redis 컨테이너 실행
   - 백엔드 프로젝트 설정 확인
   - 프론트엔드 프로젝트 설정 확인

2. **기본 데이터베이스 스키마 생성**
   - Flyway 마이그레이션 스크립트 작성
   - 테스트 데이터 생성 스크립트 작성

3. **기본 인증 시스템 구현**
   - JWT 토큰 기반 인증
   - 슈퍼관리자 역할 권한 체크

### Phase 2: 백엔드 API 개발 (2일)
1. **테넌트 관리 API**
   - 테넌트 목록 조회
   - 테넌트 상세 정보 조회
   - 테넌트 상태 변경

2. **결제 모니터링 API**
   - 결제 대시보드 데이터
   - 결제 실패 건 목록
   - 매출 통계

3. **시스템 모니터링 API**
   - 시스템 상태 정보
   - 성능 지표
   - 오류 로그

### Phase 3: 프론트엔드 개발 (2일)
1. **레이아웃 및 네비게이션**
   - 슈퍼관리자 전용 레이아웃
   - 사이드바 네비게이션
   - 헤더 및 사용자 정보

2. **대시보드 페이지**
   - KPI 카드 컴포넌트
   - 차트 컴포넌트 (매출, 사용자 증가 등)
   - 실시간 알림 센터

3. **테넌트 관리 페이지**
   - 테넌트 목록 테이블
   - 검색 및 필터링
   - 상태 변경 모달

### Phase 4: 통합 테스트 및 최적화 (1일)
1. **API 통합 테스트**
2. **프론트엔드-백엔드 연동 테스트**
3. **성능 최적화**
4. **보안 검증**

---

## 4. 상세 체크리스트

### 4.1 Phase 1: 환경 설정 체크리스트

#### 개발 환경 구축
- [ ] Docker Desktop 설치 확인
- [ ] MariaDB 컨테이너 실행 및 연결 테스트
- [ ] Redis 컨테이너 실행 및 연결 테스트
- [ ] Java 17 설치 확인
- [ ] Maven 설치 확인
- [ ] Node.js 18+ 설치 확인

#### 백엔드 프로젝트 설정
- [ ] Spring Boot 프로젝트 구조 확인
- [ ] application.yml 설정 파일 작성
- [ ] 데이터베이스 연결 테스트
- [ ] Flyway 마이그레이션 설정

#### 프론트엔드 프로젝트 설정
- [ ] React + TypeScript 프로젝트 확인
- [ ] 필요한 패키지 설치 (Shadcn/UI, Recharts 등)
- [ ] Vite 개발 서버 실행 테스트
- [ ] 백엔드 API 연동 설정

### 4.2 Phase 2: 백엔드 API 개발 체크리스트

#### 기본 인프라
- [ ] JWT 토큰 생성/검증 구현
- [ ] Spring Security 설정
- [ ] 슈퍼관리자 권한 체크 구현
- [ ] 글로벌 예외 처리 구현
- [ ] API 응답 표준화 (ApiResponse)

#### 테넌트 관리 API
- [ ] GET /api/v1/admin/tenants - 테넌트 목록 조회
- [ ] GET /api/v1/admin/tenants/{id} - 테넌트 상세 조회
- [ ] PATCH /api/v1/admin/tenants/{id}/status - 상태 변경
- [ ] 페이징 및 검색 기능 구현
- [ ] 단위 테스트 작성

#### 결제 모니터링 API
- [ ] GET /api/v1/admin/billing/dashboard - 결제 대시보드
- [ ] GET /api/v1/admin/billing/failed-payments - 실패 건 목록
- [ ] GET /api/v1/admin/billing/statistics - 매출 통계
- [ ] 단위 테스트 작성

#### 시스템 모니터링 API
- [ ] GET /api/v1/admin/system/status - 시스템 상태
- [ ] GET /api/v1/admin/system/metrics - 성능 지표
- [ ] GET /api/v1/admin/system/errors - 오류 로그
- [ ] 단위 테스트 작성

### 4.3 Phase 3: 프론트엔드 개발 체크리스트

#### 기본 구조
- [ ] 슈퍼관리자 레이아웃 컴포넌트 생성
- [ ] 사이드바 네비게이션 구현
- [ ] 헤더 컴포넌트 구현
- [ ] 라우팅 설정 (Wouter)
- [ ] 인증 상태 관리 (Zustand)

#### 공통 컴포넌트
- [ ] KPI 카드 컴포넌트
- [ ] 데이터 테이블 컴포넌트
- [ ] 차트 컴포넌트 (Recharts)
- [ ] 로딩 스피너 컴포넌트
- [ ] 모달 컴포넌트

#### 대시보드 페이지
- [ ] 대시보드 메인 페이지 구현
- [ ] KPI 카드 섹션 (테넌트 수, 매출, 사용자 수 등)
- [ ] 매출 추이 차트
- [ ] 테넌트 증가 차트
- [ ] 최근 활동 피드
- [ ] 실시간 알림 센터

#### 테넌트 관리 페이지
- [ ] 테넌트 목록 페이지
- [ ] 검색 및 필터 기능
- [ ] 페이징 처리
- [ ] 테넌트 상세 모달
- [ ] 상태 변경 기능
- [ ] 데이터 새로고침 기능

### 4.4 Phase 4: 통합 테스트 체크리스트

#### API 통합 테스트
- [ ] 모든 API 엔드포인트 응답 테스트
- [ ] 인증/권한 테스트
- [ ] 오류 처리 테스트
- [ ] 성능 테스트 (응답 시간)

#### 프론트엔드 테스트
- [ ] 컴포넌트 단위 테스트
- [ ] 페이지 렌더링 테스트
- [ ] API 연동 테스트
- [ ] 사용자 시나리오 테스트

#### 통합 테스트
- [ ] 로그인 → 대시보드 접근 플로우
- [ ] 테넌트 목록 조회 → 상세 조회 플로우
- [ ] 테넌트 상태 변경 플로우
- [ ] 실시간 데이터 업데이트 테스트

---

## 5. 개발 우선순위

### 높음 (Must Have)
1. 기본 인증 시스템
2. 테넌트 목록 조회 및 관리
3. 기본 대시보드 (KPI 카드)
4. 테넌트 상태 변경 기능

### 중간 (Should Have)
1. 결제 모니터링 대시보드
2. 매출 통계 차트
3. 검색 및 필터링 기능
4. 실시간 알림

### 낮음 (Could Have)
1. 고급 차트 및 분석
2. 데이터 내보내기 기능
3. 시스템 성능 모니터링
4. 사용자 활동 로그

---

## 6. 예상 일정

| 단계 | 작업 내용 | 예상 시간 | 완료 기준 |
|------|-----------|-----------|-----------|
| Phase 1 | 환경 설정 및 기본 구조 | 8시간 | 개발 환경 완전 구축, DB 연결 성공 |
| Phase 2 | 백엔드 API 개발 | 16시간 | 모든 API 엔드포인트 구현 및 테스트 |
| Phase 3 | 프론트엔드 개발 | 16시간 | 모든 페이지 구현 및 API 연동 |
| Phase 4 | 통합 테스트 및 최적화 | 8시간 | 전체 기능 정상 동작 확인 |
| **총계** | | **48시간** | **완전한 슈퍼관리자 모니터링 시스템** |

---

## 7. 성공 기준

### 기능적 요구사항
- [ ] 슈퍼관리자로 로그인하여 대시보드에 접근할 수 있다
- [ ] 전체 테넌트 목록을 조회하고 검색할 수 있다
- [ ] 테넌트 상세 정보를 확인할 수 있다
- [ ] 테넌트 상태를 변경할 수 있다
- [ ] 결제 현황을 모니터링할 수 있다
- [ ] 시스템 KPI를 실시간으로 확인할 수 있다

### 비기능적 요구사항
- [ ] 페이지 로딩 시간 3초 이내
- [ ] API 응답 시간 500ms 이내
- [ ] 모바일 반응형 지원
- [ ] 보안 요구사항 충족 (JWT, HTTPS)

---

## 8. 위험 요소 및 대응 방안

### 기술적 위험
- **데이터베이스 연결 문제**: Docker 컨테이너 재시작, 포트 충돌 확인
- **CORS 문제**: 백엔드 CORS 설정 확인
- **메모리 부족**: Docker 메모리 할당량 증가

### 일정 위험
- **예상보다 긴 개발 시간**: 기능 우선순위 조정, MVP 먼저 완성
- **통합 테스트 지연**: 단위 테스트 철저히 수행

---

이 플랜에 따라 단계별로 개발을 진행하겠습니다. 각 Phase별로 체크리스트를 확인하며 진행하겠습니다.