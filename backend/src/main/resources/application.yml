spring:
  application:
    name: smartcon-backend
  
  profiles:
    active: local
  
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        '[format_sql]': true
        '[use_sql_comments]': true
  
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    baseline-version: 0
    validate-on-migrate: true

# JWT 설정
jwt:
  secret: ${JWT_SECRET:smartcon-jwt-secret-key-for-development-only-change-in-production}
  access-token-expiration-minutes: ${JWT_ACCESS_EXPIRATION_MINUTES:60}    # 60분
  refresh-token-expiration-days: ${JWT_REFRESH_EXPIRATION_DAYS:7}         # 7일

# 로깅 설정
logging:
  level:
    com.smartcon: INFO
    org.springframework.security: WARN
    org.hibernate.SQL: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# 서버 설정
server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: /api

# CORS 설정
cors:
  allowed-origins: 
    - ${CORS_ORIGIN_1:http://localhost:5173}
    - ${CORS_ORIGIN_2:http://localhost:3000}
  allowed-methods:
    - GET
    - POST
    - PUT
    - PATCH
    - DELETE
    - OPTIONS
  allowed-headers: "*"
  allow-credentials: true